---
title: '[Java í”„ë¡œê·¸ë˜ë°] 14ê°• - JDBC í”„ë¡œê·¸ë˜ë°'
author: {name: mxxikr, link: 'https://github.com/mxxikr'}
date: 2025-05-18 00:00:00 +0900
category: [Language, Java]
tags: [knou, java]
math: true
mermaid: false
---
**<center>ğŸ’¡í•´ë‹¹ ê²Œì‹œê¸€ì€ ë°©ì†¡í†µì‹ ëŒ€í•™êµ ê¹€í¬ì²œ êµìˆ˜ë‹˜ì˜ 'Java í”„ë¡œê·¸ë˜ë°' ê°•ì˜ë¥¼ ê°œì¸ ê³µë¶€ ëª©ì ìœ¼ë¡œ ë©”ëª¨í•˜ì˜€ìŠµë‹ˆë‹¤. </center>**

<br/><br/>

# **í•™ìŠµ ê°œìš”**

---

- Java í”„ë¡œê·¸ë¨ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ í”„ë¡œê·¸ë˜ë°ì„ ìœ„í•´ JDBC APIë¥¼ ì‚¬ìš©í•¨
- JDBC APIë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ DBMS ë³„ë¡œ ì¡´ì¬í•˜ëŠ” JDBC ë“œë¼ì´ë²„ê°€ í•„ìš”í•¨
- JDBC ê¸°ìˆ ì„ ì‚¬ìš©í•˜ì—¬ DBMSì— ì—°ê²°í•˜ê³  ê°ì¢… SQL êµ¬ë¬¸ì„ ì‹¤í–‰í•˜ë©° ê²°ê³¼ë¥¼ ë°›ì•„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ í•™ìŠµí•¨

<br/><br/>

# **í•™ìŠµ ëª©í‘œ**

---

- JDBC ê¸°ëŠ¥ì„ ì„¤ëª…í•˜ê³  ë“œë¼ì´ë²„ë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆìŒ
- MariaDBë¥¼ ì„¤ì¹˜í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
- Java í”„ë¡œê·¸ë¨ì—ì„œ MariaDBì— ì—°ê²°í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
- ë°ì´í„°ë² ì´ìŠ¤ í”„ë¡œê·¸ë˜ë°ì— ì‚¬ìš©ë˜ëŠ” ì—¬ëŸ¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„¤ëª…í•  ìˆ˜ ìˆìŒ

<br/><br/>

# ê°•ì˜ë¡

---

## JDBCì™€ MariaDB

### ë°ì´í„°ë² ì´ìŠ¤ ê¸°ì´ˆ

- ë°ì´í„°ë² ì´ìŠ¤
    - ë°ì´í„°ë¥¼ ëª¨ì•„ ë†“ì€ ì§‘í•© ì¥ì†Œ
- DBMS
    - ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œ
    - ë°ì´í„°ë² ì´ìŠ¤ì˜ íš¨ê³¼ì  ê´€ë¦¬ë¥¼ ìœ„í•œ ì‘ìš© ì†Œí”„íŠ¸ì›¨ì–´
    - ê´€ê³„í˜• DBMSì—ì„œëŠ” ë°ì´í„°ë¥¼ í…Œì´ë¸” í˜•íƒœë¡œ ì €ì¥í•¨
        - DBMSëŠ” ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ë“¤ë¡œ êµ¬ì„±ë¨
        - í•˜ë‚˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ëŠ” ì—¬ëŸ¬ í…Œì´ë¸”ë“¤ë¡œ êµ¬ì„±ë¨
        - í•˜ë‚˜ì˜ í…Œì´ë¸”ì€ ì—¬ëŸ¬ ë ˆì½”ë“œ(í–‰)ë“¤ë¡œ êµ¬ì„±ë¨
        - í•˜ë‚˜ì˜ ë ˆì½”ë“œëŠ” ì—¬ëŸ¬ í•„ë“œ(ì—´)ë“¤ë¡œ êµ¬ì„±ë¨
        - ê° í•„ë“œì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ë©°, ë ˆì½”ë“œë¥¼ ì‹ë³„í•˜ëŠ” í‚¤ í•„ë“œê°€ ì¡´ì¬í•¨

### ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤

- í…Œì´ë¸”
    - ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ **ë°ì´í„° êµ¬ì¡°í™”**ë¥¼ ìœ„í•œ ê¸°ë³¸ ìë£Œ êµ¬ì¡°
    - í…Œì´ë¸”ì€ **ê³ ìœ í•œ ì´ë¦„**ì„ ê°€ì§
    - í…Œì´ë¸”ì€ í–‰(ë ˆì½”ë“œ ë˜ëŠ” ì—”í„°í‹°)ê³¼ ì—´(ì†ì„± ë˜ëŠ” í•„ë“œ)ë¡œ êµ¬ì„±ë¨
    
    | ID | ì œëª© | ì‘ì„±ì | ì‘ì„±ë‚ ì§œ | ì¡°íšŒìˆ˜ | ë‚´ìš© |
    |---|---|---|---|---|---|
    | 1 | ì‹œì‘ | í™ê¸¸ë™ | 2024/05/11 | 1252 | ì²« ë²ˆì§¸ ê¸€ì˜ ë‚´ìš© |
    | 2 | ê³¼ì • | ì´ìˆœì‹  | 2024/05/12 | 197 | ë‘ ë²ˆì§¸ ê¸€ì˜ ë‚´ìš© |
    | 3 | ë§ˆë¬´ë¦¬ | ê¹€ìœ ì‹  | 2024/05/13 | 94 | ì„¸ ë²ˆì§¸ ê¸€ì˜ ë‚´ìš© |
    
- ìŠ¤í‚¤ë§ˆ
    - í…Œì´ë¸”ì˜ ì´ë¦„ê³¼ êµ¬ì¡°ë¥¼ ì •ì˜
    - **í…Œì´ë¸”ì˜ êµ¬ì¡°ë€** í…Œì´ë¸”ì„ êµ¬ì„±í•˜ëŠ” ì†ì„±(í•„ë“œ, ì—´)ë“¤ì— ëŒ€í•œ ì •ë³´
    

    | í•„ë“œ ì´ë¦„ | ë°ì´í„° íƒ€ì… | ê¸¸ì´ |
    |---|---|---|
    | ID | INT | - |
    | ì œëª© | VARCHAR | 100 |
    | ì‘ì„±ì | VARCHAR | 20 |
    | ì‘ì„±ë‚ ì§œ | DATE | - |
    | ì¡°íšŒìˆ˜ | INT | - |
    | ë‚´ìš© | VARCHAR | 500 |
    

### DBMS ì„¤ì¹˜

- MariaDBë¥¼ ì„¤ì¹˜í•˜ê¸°ë¡œ í•¨
    - [https://www.mariadb.org/download/](https://www.mariadb.org/download/) ì— ì ‘ì†
    - **MariaDB Server** ì„¤ì¹˜ í”„ë¡œê·¸ë¨ì„ ë‹¤ìš´ë¡œë“œ
        - mariadb-11.7.*-winx64.msiì„ ì‹¤í–‰ì‹œí‚´
        - ì„¤ì¹˜ ê³¼ì •ì—ì„œ **root ê³„ì •ì˜ ì•”í˜¸**ë¥¼ ì •í•˜ê³  ê¸°ì–µí•´ì•¼ í•¨
            
            ![image.png](/assets/img/knou/java/2025-05-18-knou-java-14/image2.png)
            
        - ê¸°ë³¸ì ìœ¼ë¡œ C:\Program Files\MariaDB 11.7ì— ì„¤ì¹˜ë¨
        - ê¸°ë³¸ í¬íŠ¸ëŠ” 3306
    - [https://dev.mysql.com/doc/index-other.html](https://dev.mysql.com/doc/index-other.html) ì— ì ‘ì†í•˜ì—¬ ìƒ˜í”Œ ë°ì´í„°ë² ì´ìŠ¤ë¡œ world databaseë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì„¤ì¹˜
        - world-db.zip íŒŒì¼ì—ì„œ world.sqlì„ ì´ìš©í•˜ì—¬ ì„¤ì¹˜

### MariaDB ì‚¬ìš©

- MariaDB ì„œë²„ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
    - ë°ëª¬ì„ ì‹¤í–‰í•˜ë ¤ë©´ ì‹œì‘ ë©”ë‰´ì˜ Windows ê´€ë¦¬ ë„êµ¬ì—ì„œ ì„œë¹„ìŠ¤ ì‹¤í–‰
        - ë˜ëŠ” ìœˆë„ìš° ì‹œì‘ ë²„íŠ¼ì„ í´ë¦­í•˜ê³ , ì°¾ê¸°ì—ì„œ ì„œë¹„ìŠ¤ë¥¼ íƒ€ì´í•‘í•¨
            
            ![image.png](/assets/img/knou/java/2025-05-18-knou-java-14/image3.png)
            
        - ì„œë¹„ìŠ¤ ëª©ë¡ì—ì„œ MariaDB ì„œë¹„ìŠ¤ì˜ ìƒíƒœ í™•ì¸
- **MySQL Client (MariaDB 11.7 (x64)) í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰**
    - ì‹œì‘ ë©”ë‰´ â†’ MariaDB 11.7 (x64) â†’ MySQL Client (MariaDB 11.7 (x64))
        
        ![image.png](/assets/img/knou/java/2025-05-18-knou-java-14/image4.png)
        
    - ë˜ëŠ” ëª…ë ¹ í”„ë¡¬í”„íŠ¸ ì°½ì—ì„œ `mysql -u root -p`ë¥¼ ì‹¤í–‰
        
        ![image.png](/assets/img/knou/java/2025-05-18-knou-java-14/image5.png)
        
        - ë¨¼ì € C:\Program Files\MariaDB 11.7\bin ê²½ë¡œë¥¼ Pathì— ì¶”ê°€í•´ì•¼ í•¨

### ìƒ˜í”Œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì¹˜

- [https://dev.mysql.com/doc/index-other.html](https://dev.mysql.com/doc/index-other.html) ì— ì ‘ì†í•˜ì—¬ **ìƒ˜í”Œ ë°ì´í„°ë² ì´ìŠ¤ world databaseë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì—¬ ì„¤ì¹˜**
    - world-db.zip íŒŒì¼ì—ì„œ world.sqlì„ ì´ìš©í•˜ì—¬ ì„¤ì¹˜
    
    ![image.png](/assets/img/knou/java/2025-05-18-knou-java-14/image6.png)
    
    ![image.png](/assets/img/knou/java/2025-05-18-knou-java-14/image7.png)
    
    ```sql
    Enter password: *******
    source c:/db/world.sql
    ```
    
    ```sql
    show databases;
    use world;
    show tables;
    ```
    

## MariaDB ì„œë²„ì— ì—°ê²°í•˜ê¸°

### JDBC

- **JDBC**(Java DataBase Connectivity) **API**
    - Java í”„ë¡œê·¸ë¨ì—ì„œ ê´€ê³„í˜• DBMSì™€ ì—°ë™í•˜ì—¬ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” Java API í‘œì¤€ ê·œê²©
        - ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•˜ê³ , ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•´ ì§ˆì˜, ê°±ì‹ , ì‚½ì…, ì‚­ì œë¥¼ ìš”ì²­í•˜ê³ , ê²°ê³¼ë¥¼ ë°›ê¸° ìœ„í•œ í”„ë¡œê·¸ë˜ë° ë°©ë²•ì„ ì œê³µ
        - JDKì˜ ì¼ë¶€ë¡œ í¬í•¨ë˜ì–´ ìˆìŒ(java.sql íŒ¨í‚¤ì§€)

### MariaDB JDBC ë“œë¼ì´ë²„

- JDBC ë“œë¼ì´ë²„
    - JDBC APIëŠ” DBMS ì œì¡°ì‚¬ê°€ ì œê³µí•˜ëŠ” JDBC ë“œë¼ì´ë²„ë¥¼ í†µí•´ êµ¬í˜„ë¨
    - ì‚¬ìš©í•˜ë ¤ëŠ” DBMSì˜ JDBC ë“œë¼ì´ë²„ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì•„ ì„¤ì¹˜í•´ì•¼ í•¨
        - JDBC APIë¥¼ ì‚¬ìš©í•œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•  ìˆ˜ ìˆìŒ
- **MariaDB JDBC ë“œë¼ì´ë²„**
    - MariaDBìš© JDBC APIë¥¼ êµ¬í˜„í•œ ì†Œí”„íŠ¸ì›¨ì–´
        - `.jar`íŒŒì¼ í˜•ì‹ìœ¼ë¡œ ì œê³µë¨
    - Java í”„ë¡œê·¸ë¨ì—ì„œ MariaDBì™€ ì—°ë™í•˜ëŠ” ê²½ìš°, **Java 8+ Connector**ê°€ í•„ìš”í•¨
        - [https://mariadb.com/downloads/connectors/](https://mariadb.com/downloads/connectors/) ì— ì ‘ì†
        - mariadb-java-client-3.5.3.jar íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•¨

### MariaDB ì—°ê²° í”„ë¡œê·¸ë¨ ë§Œë“¤ê¸°

- ì´í´ë¦½ìŠ¤ ì„¤ì •
    - ìë°” í”„ë¡œì íŠ¸ ìƒì„±
        - í”„ë¡œì íŠ¸ ì´ë¦„ì„ ì§€ì •
            - ex) JDBCExample
        - module-info.java íŒŒì¼ì„ ë§Œë“¤ì§€ ë§ ê²ƒ
    - ë“œë¼ì´ë²„ íŒŒì¼ìš¸ **Classpath**ì— ì¶”ê°€
        - í”„ë¡œì íŠ¸ ì„¤ì •ì—ì„œ **Project â†’ Properties â†’ Java Build Path â†’ Libraries â†’  Classpath â†’ Add External JARs**...ë¥¼ ì´ìš©í•˜ì—¬ **mariadb-java-client-3.3.3.jar**ë¥¼ ì¶”ê°€í•¨
        - ë˜ëŠ” ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ìœ¼ë¡œ Build Path â†’ Configure Build Path... â†’ Java Build Path â†’ Libraries â†’ Classpath â†’ Add External JARs...ë¥¼ ì´ìš©
- MariaDB ì ‘ì† í”„ë¡œê·¸ë¨ ì˜ˆ
    
    ```java
    // MariaDB ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì •ë³´ ì„¤ì •
    String url = "jdbc:mariadb://localhost:3306/world"; // DB URL
    String user = "root";                              // DB ê³„ì • ì‚¬ìš©ì ì´ë¦„
    String pass = "root";                           // DB ê³„ì • ë¹„ë°€ë²ˆí˜¸
    
    // try-with-resourcesë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°, ì¿¼ë¦¬ ì‹¤í–‰, ê²°ê³¼ ì²˜ë¦¬
    try (Connection conn = DriverManager.getConnection(url, user, pass); // DB ì—°ê²° ìƒì„±
        Statement stmt = conn.createStatement(); // ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ê°ì²´ ìƒì„±
        ResultSet rs = stmt.executeQuery("SELECT * FROM city limit 0, 50")) { // ì¿¼ë¦¬ ì‹¤í–‰
    
        // ê²°ê³¼ ì¶œë ¥ ì‹œ, í—¤ë”(ì»¬ëŸ¼ ì œëª©) í˜•ì‹ ì§€ì • ë° ì¶œë ¥
        System.out.println(String.format("%-10s", "ID") +
        String.format("%-35s", "Name") +
        String.format("%-15s", "CountryCode") +
        String.format("%-20s", "District") +
        String.format("%-11s", "Population"));

        // ResultSetìœ¼ë¡œ ì¡°íšŒëœ ê²°ê³¼ë¥¼ ë°˜ë³µí•˜ì—¬ í•œ í–‰ì”© ì¶œë ¥
        while (rs.next()) {
            // ê° ì»¬ëŸ¼ ê°’ì„ ì½ì–´ì„œ ì •ë ¬ëœ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥
            System.out.print(String.format("%-10d", rs.getInt("ID")));            // ID ì»¬ëŸ¼
            System.out.print(String.format("%-35s", rs.getString("Name")));      // Name ì»¬ëŸ¼
            System.out.print(String.format("%-15s", rs.getString("CountryCode")));// CountryCode ì»¬ëŸ¼
            System.out.print(String.format("%-20s", rs.getString("District")));  // District ì»¬ëŸ¼
            System.out.println(String.format("%-11d", rs.getInt("Population"))); // Population ì»¬ëŸ¼
        }
    }
    // ID      Name                  CountryCode      District      Population
    // 1       Kabul                 AFG              Kabol         1780000
    // 2       Qandahar              AFG              Qandahar      237500
    // 3       Herat                 AFG              Herat         186800
    ```
    

## MariaDB ì—°ë™ í”„ë¡œê·¸ë˜ë°

### MariaDB ì—°ë™ í”„ë¡œê·¸ë˜ë° ìˆœì„œ

- JDBC íŒ¨í‚¤ì§€ë¥¼ import
    - `import java.sql.*;`
- JDBC ë“œë¼ì´ë²„ë¥¼ ë™ì ìœ¼ë¡œ ë¡œë“œ
    - `Class.forName("org.mariadb.jdbc.Driver");`í˜¸ì¶œ
    - ìµœì‹  JDBC ë²„ì „ì—ì„œëŠ” **ìƒëµí•´ë„ ë¨**
- MariaDB ì„œë²„ í”„ë¡œê·¸ë¨ê³¼ ì—°ê²° ì„¤ì •
    - `DriverManager.getConnection(url, user, pass)`í˜¸ì¶œ
- SQL êµ¬ë¬¸ì˜ ì‹¤í–‰ê³¼ ê²°ê³¼ ì²˜ë¦¬
    - Connection, Statement, ResultSet ê°ì²´ ì‚¬ìš©
- ì—°ê²° í•´ì œ
    - ì‚¬ìš© ì¤‘ì¸ ë°ì´í„°ë² ì´ìŠ¤ ìì›ì„ ë°˜ë‚©
        - `finally`ë¸”ë¡ì—ì„œ `rs.close();``stmt.close();``conn.close();`ì‹¤í–‰
        - **`try-with-resource`êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ë©´ ì´ ë¶€ë¶„ì´ ìë™ ì²˜ë¦¬ë¨**

### MariaDB ì„œë²„ì— ì—°ê²°í•˜ê¸°

- ë°©ë²•
    - `DriverManager.getConnection**(url, user, pass)`ë©”ì†Œë“œëŠ” URL, ì‚¬ìš©ì ì•„ì´ë””, ë¹„ë°€ë²ˆí˜¸ë¥¼ ì´ìš©í•˜ì—¬ MariaDB ì„œë²„ì— ì ‘ì†ì„ ì‹œë„
    - ì„±ê³µí•˜ë©´ **Connection** ìœ í˜•ì˜ ê°ì²´ë¥¼ ë¦¬í„´
    
    ```java
    String url = "jdbc:mariadb://localhost:3306/world";
    String user = "root";
    String pass = "mariadb";
    try(Connection conn = DriverManager.getConnection(url, user, pass);
        Statement stmt = conn.createStatement();
        ResultSet rs = stmt.executeQuery("SELECT * FROM city limit 0, 50")) {
    
    }
    ```
    

### `Statement`ê°ì²´

- **SQL êµ¬ë¬¸ì„ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ ë°˜í™˜í•´ ì£¼ëŠ” ê°ì²´**
- `Connection`ê°ì²´ì˜ `createStatement()`ë©”ì†Œë“œë¥¼ í†µí•´ ìƒì„±ë¨
- ì£¼ìš” ë©”ì†Œë“œ
    
    
    | ë©”ì†Œë“œ | ì„¤ëª… |
    | --- | --- |
    | `boolean execut(String sql)`| SQL êµ¬ë¬¸ì„ ì‹¤í–‰í•˜ë©°, `select`êµ¬ë¬¸ì„ ì‹¤í–‰í•˜ëŠ” ê²½ìš° trueë¥¼ ë¦¬í„´í•˜ê³  ì´ì–´ì„œ `getResultSet()`ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŒ, `update`/`insert`/`delete`êµ¬ë¬¸ì˜ ê²½ìš° falseë¥¼ ë¦¬í„´í•˜ë©° `getUpdateCount()`ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŒ |
    | `ResultSet getResultSet()`| SQL êµ¬ë¬¸(executeë¡œ ì‹¤í–‰)ì„ ì‹¤í–‰í•œ ê²°ê³¼ë¥¼ ë¦¬í„´ |
    | `int getUpdateCoun()`| SQL êµ¬ë¬¸(executeë¡œ ì‹¤í–‰)ì˜ ì‹¤í–‰ìœ¼ë¡œ ì˜í–¥ì„ ë°›ì€ í–‰ì˜ ê°œìˆ˜ë¥¼ ë¦¬í„´ |
    | `ResultSet executeQuery(String sql)`| `select`êµ¬ë¬¸ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©ë˜ë©°, ì‹¤í–‰ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í…Œì´ë¸”ì¸ `ResultSet`ê°ì²´ë¥¼ ë¦¬í„´ |
    | `int executeUpdate(String sql)`| `update`, `insert`, `delete`êµ¬ë¬¸ ì‹¤í–‰í•  ë•Œ ì‚¬ìš©í•˜ë©°, ì˜í–¥ ë°›ì€ í–‰ì˜ ê°œìˆ˜ë¥¼ ë¦¬í„´ |

### `Statement`ê°ì²´ë¡œ `select`êµ¬ë¬¸ ì‹¤í–‰í•˜ê¸°

- `Statement`ê°ì²´ë¥¼ ìƒì„±í•˜ê³  `executeQuery()`ë˜ëŠ” `execute()`ë¥¼ í˜¸ì¶œ
- ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ì½ì„ ë•ŒëŠ” `ResultSet`ê°ì²´ì—ì„œ ì½ìŒ
    
    ```java
    try(Connection conn = DriverManager.getConnection(url, user, pass);
        Statement stmt = conn.createStatement();
        ResultSet rs = stmt.executeQuery("SELECT * FROM city limit 0, 50")) {
        while(rs.next()) {
            System.out.print(String.format("%-10d", rs.getInt("ID")));
            System.out.print(String.format("%-35s", rs.getString("Name")));
        }
    }
    ```
    
    ```java
    try(Connection conn = DriverManager.getConnection(url, user, pass);
        Statement stmt = conn.createStatement()) {
        ResultSet rs = null;
        if(stmt.execute("SELECT * FROM city limit 0, 50")) rs = stmt.getResultSet();
        while(rs.next()) {

        }
    }
    ```
    

### `ResultSet`ê°ì²´

- **`select`êµ¬ë¬¸ì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í…Œì´ë¸”**
    - `Statement`ê°ì²´ì˜ `getResultSet()`, `executeQuery()`ë©”ì†Œë“œê°€ ë¦¬í„´í•œ ê°ì²´
    - í…Œì´ë¸”ì—ì„œ í•œ í–‰ì„ ê°€ë¦¬í‚¤ëŠ” ì»¤ì„œë¥¼ ê°€ì§
    
    ![image.png](/assets/img/knou/java/2025-05-18-knou-java-14/image8.png)
    
- `select`êµ¬ë¬¸ì„ ì‹¤í–‰í•˜ì—¬ `ResultSet`ê°ì²´ê°€ ìƒì„±ë˜ë©´ ì»¤ì„œê°€ ë§Œë“¤ì–´ì§€ê³ , `select`êµ¬ë¬¸ì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ê°€ë¦¬í‚´
    - ì»¤ì„œëŠ” í–‰ì„ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°, ê¸°ë³¸ì ìœ¼ë¡œ ìœ„ì—ì„œ ì•„ë˜ë¡œ ì§„í–‰
    - ì»¤ì„œì˜ ì´ˆê¸° ê°’ì€ ì²« í–‰ì˜ ì§ì „ í–‰ì„ ê°€ë¦¬í‚´

### `ResultSet`ì˜ ë©”ì†Œë“œ

- ì£¼ìš” ë©”ì†Œë“œ
    
    
    | ë©”ì†Œë“œ | ì„¤ëª… |
    | --- | --- |
    | `boolean next()`| ì»¤ì„œë¥¼ ë‹¤ìŒ í–‰ìœ¼ë¡œ ì´ë™ ì‹œí‚´ |
    | `boolean previous()`| ì»¤ì„œë¥¼ ì´ì „ í–‰ìœ¼ë¡œ ì´ë™ ì‹œí‚´ |
    | `Statement getStatement()`| í˜„ì¬ `ResultSet`ì„ ìƒì„± ì‹œí‚¨ `Statement`ê°ì²´ë¥¼ ë¦¬í„´ |
    | `String getString(int index)`, `String getString(String columnName)`| `ResultSet`ê°ì²´ì—ì„œ í•´ë‹¹ ì—´ì˜ ë¬¸ìì—´ì„ ë¦¬í„´, ì²« ë²ˆì§¸ í•„ë“œì˜ ì¸ë±ìŠ¤ëŠ” 1 |
    | `int getInt(int index)`, `int getInt(String columnName)`| `ResultSet`ê°ì²´ì—ì„œ í•´ë‹¹ ì—´ì˜ int ê°’ì„ ë¦¬í„´ |

### `Statement`ê°ì²´ë¡œ `insert`, `update`, `delete`êµ¬ë¬¸ ì‹¤í–‰í•˜ê¸°

- `Statement`ê°ì²´ë¥¼ ìƒì„±í•˜ê³  `executeUpdate()`ë¥¼ í˜¸ì¶œ
- ì˜í–¥ì„ ë°›ì€ í–‰ì˜ ê°œìˆ˜ê°€ ë¦¬í„´ ë¨
    
    ```java
    try (Connection conn = DriverManager.getConnection(url, user, pass);
    Statement stmt = conn.createStatement()) {
        int resultCount = stmt.executeUpdate("insert into í…Œì´ë¸”ì´ë¦„ values ...");
        System.out.println(resultCount + "ê°œì˜ í–‰ì´ ì‚½ì…ë˜ì—ˆìŠµë‹ˆë‹¤.");
        resultCount = stmt.executeUpdate("update í…Œì´ë¸”ì´ë¦„ set ...");
        System.out.println(resultCount + "ê°œì˜ í–‰ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.");
        resultCount = stmt.executeUpdate("delete from í…Œì´ë¸”ì´ë¦„ where ...");
        System.out.println(resultCount + "ê°œì˜ í–‰ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
    }
    ```
    
    ```java
    if(!stmt.execute("delete from í…Œì´ë¸”ì´ë¦„ where ..."))
        System.out.println(stmt.getUpdateCount() + " ê°œì˜ í–‰ ì‚­ì œ");
    ```
    

## `DatabaseMetaData`ê°ì²´, `PreparedStatement`ê°ì²´, `ResultSetMetaData`ê°ì²´

### `DatabaseMetaData`ê°ì²´

- ë“œë¼ì´ë²„ë‚˜ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ë©”ì†Œë“œë¥¼ ê°€ì§„ ì¸í„°í˜ì´ìŠ¤
- `Connection`ê°ì²´ì˜ `getMetaData()`ë©”ì†Œë“œë¡œ ê°ì²´ë¥¼ ìƒì„±
- ì£¼ìš” ë©”ì†Œë“œ
    
    
    | ë©”ì†Œë“œ | ì„¤ëª… |
    | --- | --- |
    | `String getDriverName()`| JDBC ë“œë¼ì´ë²„ ì´ë¦„ì„ ë¦¬í„´ |
    | `String getURL()`| ì—°ê²°ì— ì‚¬ìš©ëœ DBMS URLì„ ë¦¬í„´ |
    | `String getUserName()`| ì—°ê²°ì— ì‚¬ìš©ëœ ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì |

### `DatabaseMetaData`ì‚¬ìš© ì˜ˆ

- DBMS ì •ë³´ ì•Œì•„ë‚´ê¸°
    
    ```java
    import java.sql.*;
    
    public class Main {
        public static void main(String[] args) {
            String url = "jdbc:mariadb://localhost:3306/world";
            String user = "root";
            String pass = "mariadb";
            try {
                Class.forName("org.mariadb.jdbc.Driver");
            } catch (Exception ex) {
                System.out.println(ex);
            }
            try (Connection conn = DriverManager.getConnection(url, user, pass)) {
                System.out.println(conn.getMetaData().getDriverName());
                System.out.println(conn.getMetaData().getDriverVersion());
                System.out.println(conn.getMetaData().getURL());
                System.out.println(conn.getMetaData().getUserName());
            } catch (Exception ex) {
                System.out.println(ex);
            }
        }
    }
    ```
    
    ```
    MariaDB Connector/J
    3.5.3
    jdbc:mariadb://localhost/world?user=root&password=***
    root
    ```
    

### DBMSì™€ Javaì˜ ìë£Œí˜• ë³€í™˜

- DBMS í…Œì´ë¸”ì—ì„œ í•„ë“œì˜ ìë£Œí˜•ê³¼ Javaì˜ ìë£Œí˜•, ê·¸ë¦¬ê³  JDBC ë©”ì†Œë“œ ê°„ì˜ ê´€ê³„
    
    
    | DBMS ìë£Œí˜• | Java ìë£Œí˜• | `ResultSet`ë©”ì†Œë“œ | `PreparedStatement`ë©”ì†Œë“œ |
    | --- | --- | --- | --- |
    | CHAR | `String`| `getString()`| `setString()`|
    | VARCHAR | `String`| `getString()`| `setString()`|
    | INTEGER | `int`| `getInt()`| `setInt()`|
    | DATE | `java.sql.Date`| `getDate()`| `setDate()`|

### `PreparedStatement`ê°ì²´

- **Precompiledëœ SQL ë¬¸**ì„ í‘œí˜„
- ê°ì²´ëŠ” `Connection`ê°ì²´ì˜ `prepareStatement(String sql)`ë©”ì†Œë“œë¥¼ í†µí•´ ìƒì„±ë¨
    - ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ SQL êµ¬ë¬¸ì´ ì£¼ì–´ì§ (`Statement`ê°ì²´ì˜ ê²½ìš° ì‹¤í–‰í•  ë•Œ ì œê³µ)
- **ê°™ì€ SQL ë¬¸ì„ ì—¬ëŸ¬ ë²ˆ ë°˜ë³µ ì‹¤í–‰í•  ë•Œ íš¨ìœ¨ì ì„**
    - **SQLë¬¸ì— ë§¤ê°œ ë³€ìˆ˜(?)ë¥¼ ì‚¬ìš©**í•˜ê³ , ì‹¤í–‰ ì „ì— ê°’ì„ ì§€ì •í•  ìˆ˜ ìˆìŒ
    
    ```java
    Connection conn = DriverManager.getConnection(url, user, pass);
    String query = "SELECT * FROM í…Œì´ë¸”ì´ë¦„ WHERE í•„ë“œ1=? and í•„ë“œ2> ?";
    PreparedStatement ps = conn.prepareStatement(query);
    ps.setString(1, "í•„ë“œê°’");
    ps.setInt(2, ìˆ«ì);
    ResultSet rs = ps.executeQuery();
    ```
    

### `PreparedStatement`ì˜ ë©”ì†Œë“œ

- ì£¼ìš” ë©”ì†Œë“œ
    - SQL êµ¬ë¬¸ì„ ì‹¤í–‰í•˜ëŠ” `PreparedStatement`ê°ì²´ê°€ ê°€ì§€ê³  ìˆìœ¼ë¯€ë¡œ, SQL êµ¬ë¬¸ì„ ì‹¤í–‰í•˜ëŠ” ë©”ì†Œë“œì—ëŠ” ì¸ìê°€ ì—†ìŒ
    
    | ë©”ì†Œë“œ | ì„¤ëª… |
    | --- | --- |
    | `boolean execute()`| ê°ì²´ê°€ ê°€ì§„ SQL êµ¬ë¬¸ì„ ì‹¤í–‰í•¨ |
    | `ResultSet executeQuery()`| SQL ì¿¼ë¦¬ ë¬¸ì„ ì‹¤í–‰í•˜ê³  `ResultSet`ê°ì²´ë¥¼ ë¦¬í„´ |
    | `int executeUpdate()`| `insert`, `update`ë˜ëŠ” `delete`ë¬¸ì„ ì‹¤í–‰ |
    | `void setInt(int parameterIndex, int x)`| SQL êµ¬ë¬¸ì˜ ë§¤ê°œë³€ìˆ˜(?)ì— int ê°’ì„ ì§€ì •, SQL êµ¬ë¬¸ì—ì„œ ì²« ë²ˆì§¸ ?ì˜ ì¸ë±ìŠ¤ëŠ” 1ì„ |
    | `void setString(int parameterIndex, String x)`| SQL êµ¬ë¬¸ì˜ ë§¤ê°œë³€ìˆ˜(?)ì— ë¬¸ìì—´ ê°’ì„ ì§€ì • |

### `PreparedStatement`ì˜ ì‚¬ìš© ì˜ˆ

- `PreparedStatement`ê°ì²´ ì‚¬ìš©í•˜ê¸°
    
    ```java
    String query = "SELECT * FROM city WHERE population > ?";
    try (Connection conn = DriverManager.getConnection(url, user, pass);
         PreparedStatement ps = conn.prepareStatement(query);
         ResultSet rs = getPS(ps, 1, 9000000).executeQuery()) { 
        System.out.println(String.format("%-10s", "ID") + String.format("%-35s",
                           "Name") + String.format("%-15s",
                           "CountryCode") + String.format("%-20s",
                           "District") + String.format("%-11s", "Population"));
        while (rs.next()) {
            System.out.print(String.format("%-10d", rs.getInt("ID")));
            System.out.print(String.format("%-35s", rs.getString("Name")));
            System.out.print(String.format("%-15s", rs.getString("CountryCode")));
            System.out.print(String.format("%-20s", rs.getString("District")));
            System.out.println(String.format("%-11d", rs.getInt("Population")));
        }
    }
    ```
    
    ```
    ID Name CountryCode District Population
    206 SÃ£o Paulo BRA SÃ£o Paulo 9968485
    939 Jakarta IDN Jakarta Raya 9604900
    1024 Mumbai (Bombay) IND Maharashtra 10500000
    ```
    

### **`ResultSetMetaData`ê°ì²´**

- `ResultSet`ê°ì²´ì—ì„œ í…Œì´ë¸”ì˜ ì´ë¦„, ì—´ì˜ ì´ë¦„ê³¼ íƒ€ì… ì •ë³´ë¥¼ ì–»ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ê°ì²´
    - `ResultSet`ì˜ `getMetaData()`ë©”ì†Œë“œë¡œ ìƒì„±í•¨
- ì£¼ìš” ë©”ì†Œë“œ
    
    
    | **ë©”ì†Œë“œ** | **ì„¤ëª…** |
    | --- | --- |
    | `String getColumnName(int index)`| index ìœ„ì¹˜ì˜ ì»¬ëŸ¼ ì´ë¦„ì„ ë¦¬í„´ |
    | `int getColumnCount()`| `ResultSet`ì˜ ì»¬ëŸ¼ ê°œìˆ˜ë¥¼ ë¦¬í„´ |
    | `int getColumnType(int index)`| index ìœ„ì¹˜ì˜ ì»¬ëŸ¼ ìë£Œí˜•ì„ ë¦¬í„´ |
    | `String getTableName(int index)`| index ìœ„ì¹˜ì˜ ì»¬ëŸ¼ì„ í¬í•¨í•˜ëŠ” í…Œì´ë¸”ì˜ ì´ë¦„ì„ ë¦¬í„´ |

### `ResultSetMetaData`ì‚¬ìš© ì˜ˆ

- `ResultSetMetaData`ê°ì²´
    
    ```java
    import java.sql.*;
    
    try (Connection conn = DriverManager.getConnection(url, user, pass);
         Statement stmt = conn.createStatement();
         ResultSet rs = stmt.executeQuery("SELECT * FROM city limit 0, 50")) {
        ResultSetMetaData rsmd = rs.getMetaData(); // ResultSet ë©”íƒ€ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        int colCount = rsmd.getColumnCount();
    
        // ì»¬ëŸ¼ ì´ë¦„ ì¶œë ¥
        for (int i = 1; i <= colCount; i++) {
            System.out.print(rsmd.getColumnName(i) + (i < colCount ? ", " : ""));
        }
        System.out.println();
    
        // ê²°ê³¼ ì¶œë ¥
        while (rs.next()) {
            for (int i = 1; i <= colCount; i++) {
                switch (rsmd.getColumnType(i)) {
                    case Types.INTEGER:
                        System.out.print(rs.getInt(i) + (i < colCount ? ", " : ""));
                        break;
                    case Types.VARCHAR: // VARCHAR íƒ€ì… ì²˜ë¦¬
                    case Types.CHAR:    // CHAR íƒ€ì… ì²˜ë¦¬
                        System.out.print(rs.getString(i) + (i < colCount ? ", " : ""));
                        break;
                    default: // ê¸°ë³¸ì ìœ¼ë¡œ ë¬¸ìì—´ë¡œ ì²˜ë¦¬
                        System.out.print(rs.getString(i) + (i < colCount ? ", " : ""));
                        break;
                }
            }
            System.out.println();
        }
    }
    ```
    
    ```
    ID, Name, CountryCode, District, Population
    1, Kabul, AFG, Kabol, 1780000
    2, Qandahar, AFG, Qandahar, 237500
    3, Herat, AFG, Herat, 186800
    4, Mazar-e-Sharif, AFG, Balkh, 127800
    5, Amsterdam, NLD, Noord-Holland, 731200
    6, Rotterdam, NLD, Zuid-Holland, 593321
    7, Haag, NLD, Zuid-Holland, 440900
    8, Utrecht, NLD, Utrecht, 234323
    9, Eindhoven, NLD, Noord-Brabant, 201843
    10, Tilburg, NLD, Noord-Brabant, 193238
    11, Groningen, NLD, Groningen, 172701
    12, Breda, NLD, Noord-Brabant, 160398
    13, Apeldoorn, NLD, Gelderland, 153491
    14, Nijmegen, NLD, Gelderland, 152463
    15, Enschede, NLD, Overijssel, 149544
    16, Haarlem, NLD, Noord-Holland, 148772
    17, Almere, NLD, Flevoland, 142465
    18, Arnhem, NLD, Gelderland, 138020
    19, Zaanstad, NLD, Noord-Holland, 135621
    20, Â´s-Hertogenbosch, NLD, Noord-Brabant, 129170
    21, Amersfoort, NLD, Utrecht, 126270
    22, Maastricht, NLD, Limburg, 122087
    23, Dordrecht, NLD, Zuid-Holland, 119811
    24, Leiden, NLD, Zuid-Holland, 117196
    25, Haarlemmermeer, NLD, Noord-Holland, 110722
    26, Zoetermeer, NLD, Zuid-Holland, 110214
    27, Emmen, NLD, Drenthe, 105853
    28, Zwolle, NLD, Overijssel, 105819
    29, Ede, NLD, Gelderland, 101574
    30, Delft, NLD, Zuid-Holland, 95268
    31, Heerlen, NLD, Limburg, 95052
    32, Alkmaar, NLD, Noord-Holland, 92713
    33, Willemstad, ANT, CuraÃ§ao, 2345
    34, Tirana, ALB, Tirana, 270000
    35, Alger, DZA, Alger, 2168000
    36, Oran, DZA, Oran, 609823
    37, Constantine, DZA, Constantine, 443727
    38, Annaba, DZA, Annaba, 222518
    39, Batna, DZA, Batna, 183377
    40, SÃ©tif, DZA, SÃ©tif, 179055
    41, Sidi Bel AbbÃ¨s, DZA, Sidi Bel AbbÃ¨s, 153106
    42, Skikda, DZA, Skikda, 128747
    43, Biskra, DZA, Biskra, 128281
    44, Blida (el-Boulaida), DZA, Blida, 127284
    45, BÃ©jaÃ¯a, DZA, BÃ©jaÃ¯a, 117162
    46, Mostaganem, DZA, Mostaganem, 115212
    47, TÃ©bessa, DZA, TÃ©bessa, 112007
    48, Tlemcen (Tilimsen), DZA, Tlemcen, 110242
    49, BÃ©char, DZA, BÃ©char, 107311
    50, Tiaret, DZA, Tiaret, 100118
    ```

<br/><br/>

# í•™ìŠµ ì •ë¦¬

---

- MariaDBëŠ” MySQLê³¼ í˜¸í™˜ë˜ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œì„
- JDBCëŠ” Java í”„ë¡œê·¸ë¨ì—ì„œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì™€ ì—°ë™í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” í‘œì¤€ APIì„
- JDBC í”„ë¡œê·¸ë˜ë°ì„ ìœ„í•´ì„œëŠ” MariaDBìš© JDBC ë“œë¼ì´ë²„ë¡œ `.jar`íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ì•„ Classpathì— ì¶”ê°€í•´ì•¼ í•¨
- DBMSì™€ ì—°ê²°ì„ ì„¤ì •í•  ë•ŒëŠ” `java.sql.Connection`ê°ì²´ë¥¼ ì‚¬ìš©í•¨
- SQL êµ¬ë¬¸ì„ ì‹¤í–‰í•  ë•Œ `Statement`ì¸í„°í˜ì´ìŠ¤ì˜ `execute()`, `executeQuery()`, `executeUpdate()`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
- `select`êµ¬ë¬¸ì„ ì‹¤í–‰í•  ë•Œ `executeQuery()`ë¥¼ í˜¸ì¶œí•˜ë©°, ê²€ìƒ‰ ê²°ê³¼ê°€ `ResulteSet`ê°ì²´ë¡œ ë¦¬í„´ ë¨
- ê°™ì€ SQL ë¬¸ì„ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•  ë•ŒëŠ” `PreparedStatement`ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ íš¨ìœ¨ì ì´ë©°, SQL ë¬¸ì— ë§¤ê°œë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¤í–‰ ì „ì— ê°’ì„ ì§€ì •í•  ìˆ˜ ìˆìŒ

<br/><br/>

# ì—°ìŠµ ë¬¸ì œ

---

1. JDBC í”„ë¡œê·¸ë˜ë°ì— ì‚¬ìš©ë˜ëŠ” í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ê°€Â ì•„ë‹ŒÂ ê²ƒì€?
    
    a. `Runnable`

    - JDBC í”„ë¡œê·¸ë˜ë°ì— ì‚¬ìš© ë˜ëŠ” í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ëŠ”?
        - `Connection`
        - `DriverManager`
        - `Statement`
2. `PreparedStatement`ê°ì²´ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ì˜ëª»ëœ ê²ƒì€?
    
    a. `PreparedStatement`ëŠ” `Statement`ì˜ ë¶€ëª¨ ì¸í„°í˜ì´ìŠ¤ì„
    
    - `PreparedStatement`ê°ì²´ì— ëŒ€í•œ ì„¤ëª…ìœ¼ë¡œ ì˜³ì€ ê²ƒì€?
        - ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ SQL êµ¬ë¬¸ì„ ì§€ì •í•´ì•¼ í•¨
        - ê°™ì€ SQL êµ¬ë¬¸ì„ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•  ë•Œ íš¨ìœ¨ì ìœ¼ë¡œ í™œìš©ë  ìˆ˜ ìˆìŒ
        - ë§¤ê°œ ë³€ìˆ˜ë¥¼ ê°€ì§€ëŠ” SQL êµ¬ë¬¸ì„ ì§€ì •í•  ìˆ˜ ìˆìŒ
3. `Statement`ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ `executeQuery()`ë¥¼ í˜¸ì¶œí•˜ë©´ `select`êµ¬ë¬¸ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ì´ë•Œ ì§ˆì˜ë¥¼ ë§Œì¡±í•˜ëŠ” ë ˆì½”ë“œë“¤ì´ í…Œì´ë¸” í˜•íƒœë¡œ ë¦¬í„´ë˜ëŠ”ë° ì´ê²ƒì˜ ë°ì´í„° íƒ€ì…ì€ ë¬´ì—‡ì¸ê°€?
    
    a. `ResultSet`