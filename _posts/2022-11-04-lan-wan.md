---
title: LAN과 WAN
author: {name: mxxikr, link: 'https://github.com/mxxikr'}
date: 2022-11-04 01:30:00 +0900
category: [Network]
tags: [network]
math: true
mermaid: true
---
<br/><br/>

## LAN과 WAN의 비교

- 네트워크는 범위에 따라 LAN(지역 네트워크)과 WAN(광역 네트워크)으로 구분됨

### 비교표

| 항목 | LAN (Local Area Network) | WAN (Wide Area Network) |
|------|--------|----------|
| **범위** | 건물 1개, 캠퍼스 | 도시, 국가, 대륙 |
| **속도** | 매우 빠름 (1 Gbps~) | 느림 (수 Mbps~수십 Mbps) |
| **지연(Latency)** | 매우 낮음 (ms 이하) | 높음 (ms~초 단위) |
| **비용** | 매우 저렴 | 매우 비쌈 |
| **신뢰성** | 높음 | 중간~높음 |
| **기술** | Ethernet, Wi-Fi, Switches | MPLS, Leased Line, VPN |
| **운영 난이도** | 쉬움 | 어려움 |
| **예시** | 회사 사무실, 학교 | 본사-지사 간 연결, 인터넷 |

### 네트워크 범위 시각화

![mermaid-diagram](/assets/img/network/2022-11-04-lan-wan-diagram-1.png)

<br/><br/>

## LAN (Local Area Network)

### 개요

- 근거리 통신망
- 사용 예시
  - 강의실, 사무실, 캠퍼스
- 사용 장비
  - Switch (2계층 장비)
  - Router (3계층 장비)
- 특징
  - 비용 적음
  - 속도 빠름
  - 사설 업체에서 사용 및 관리
- 기술
  - Ethernet (10Mbps), Fast Ethernet (100Mbps), Giga Ethernet (1Gbps)
- 케이블
  - UTP (인터넷용), STP (현장용)

### LAN 3계층 아키텍처

![image](/assets/img/network/lan-3layer-architecture.png)

### Switch와 Router

| 구분 | Switch | Router |
|------|--------|--------|
| **OSI 계층** | Layer 2 (MAC 기반) | Layer 3 (IP 기반) |
| **역할** | 같은 네트워크 내 장치 연결 | 서로 다른 네트워크 연결 |
| **주소 기반** | MAC 주소 | IP 주소 |
| **처리 속도** | 매우 빠름 (ASIC 하드웨어) | 빠름 (L3 Switch) ~ 중간 (Software Router) |

- **비유**
  - Switch: 건물 내 복도 안내원
  - Router: 도시 간 방향 안내원

### Layer 3 Switch

- Switch와 Router 기능을 통합한 고급 장비
- 대규모 LAN에서 사용
- 기능
  - 같은 VLAN 내: 빠른 스위칭
  - 다른 VLAN 간: 직접 라우팅 (외부 라우터 불필요)

<br/><br/>

## Private Network (IP & VLAN)

### Private IP Address 범위

- 인터넷에 연결되지 않는 프라이빗 네트워크를 위해 예약된 주소 범위

| 클래스 | 범위 | CIDR | 주소 개수 | 용도 |
|--------|------|------|---------|------|
| **Class A** | 10.0.0.0 ~ 10.255.255.255 | 10.0.0.0/8 | 16,777,216 개 | 대규모 조직 (AWS, Google 데이터센터) |
| **Class B** | 172.16.0.0 ~ 172.31.255.255 | 172.16.0.0/12 | 1,048,576 개 | 중규모 조직 (AWS VPC 기본값) |
| **Class C** | 192.168.0.0 ~ 192.168.255.255 | 192.168.0.0/16 | 65,536 개 | 소규모 조직, 가정집 (일반 공유기) |

### Private IP 배치 예시

![image](/assets/img/network/private-ip-deployment.png)

### VLAN과 Subnet

- LAN을 논리적으로 나누어 보안과 관리 개선함

| 구분 | VLAN | Subnet |
|------|------|--------|
| **계층** | Layer 2 (Data Link) | Layer 3 (Network) |
| **분리 기준** | 스위치 포트/태그 | IP 주소 범위 |
| **라우팅 필요** | 불필요 (같은 VLAN 내) | 필요 (다른 Subnet 간) |
| **보안** | 기본 (VLAN ACL) | 강화 (방화벽 필요) |

### 네트워크 세그먼테이션 설계

![mermaid-diagram](/assets/img/network/2022-11-04-lan-wan-diagram-2.png)

![image](/assets/img/network/vlan-subnet-design.png)

### VLAN/Subnet 설계

- VLAN 설계 (논리적 분리)
  - VLAN 10
    - Management (관리자)
  - VLAN 20
    - Production (웹 서버)
  - VLAN 30
    - Database (DB 서버)
  - VLAN 40
    - Guest (손님 Wi-Fi)
- 각 VLAN에 Subnet 할당 (IP 범위 지정)
  - VLAN 10 → 192.168.10.0/24
  - VLAN 20 → 192.168.20.0/24
  - VLAN 30 → 192.168.30.0/24
  - VLAN 40 → 192.168.40.0/24
- 라우터/L3 Switch에서 VLAN 간 라우팅 설정
  - VLAN 20(웹) ↔ VLAN 30(DB) 허용함
  - VLAN 40(손님) 격리함

<br/><br/>

## WAN Technologies

### 개요

- 조직의 여러 지역(지사, 데이터센터) 연결함
- 사용 장비
  - Router (DCE/DTE Clock 동기화 필수)

![mermaid-diagram](/assets/img/network/2022-11-04-lan-wan-diagram-3.png)

### WAN 기술 비교

| 기술 | 비용 | 속도 | 보안 | 신뢰성 | 유연성 |
|------|------|------|------|--------|--------|
| **Leased Line** | 매우 비쌈 | 빠름 | 매우 높음 | 매우 높음 | 낮음 |
| **MPLS VPN** | 중간 | 중간 | 높음 | 높음 | 높음 |
| **인터넷 VPN** | 저렴 | 변동적 | 중간 | 중간 | 매우 높음 |
| **SD-WAN** | 저렴 | 변동적 | 높음 | 높음 | 매우 높음 |

### Leased Line (전용선)
- ISP로부터 직접 할당받은 독점적 연결
- 장점: 최고 보안, 보장된 대역폭, 초저지연
- 단점: 매우 비쌈, 확장 어려움

### MPLS VPN
- 통신사의 공유 인프라 위에 가상의 전용 경로 생성
- 장점: 다대다 연결(Full Mesh), QoS 보장
- 단점: ISP 종속성

### 인터넷 VPN (IPSec, SSL)
- 공인 인터넷을 통해 암호화된 터널 생성
- 장점: 저렴, 유연성
- 단점: 품질 보장 없음(Best Effort)

### SD-WAN (Software-Defined WAN)
- 여러 회선(인터넷, MPLS, 5G)을 소프트웨어로 통합 관리
- 장점: 비용 절감, 자동 장애 극복, 클라우드 최적화
- 단점: 초기 도입 복잡성

### WAN 기술 선택 기준
- 소규모 (1~2개): 인터넷 VPN 또는 고성능 필요 시 Leased Line
- 중규모 (3~5개): MPLS VPN
- 전국망: SD-WAN
- 클라우드: Direct Connect / ExpressRoute

<br/><br/>

## Physical & Serial

### 통신 회선
- 유선: UTP, 동축, 광섬유
- 무선: 라디오파, 마이크로파, 위성

### DTE와 DCE
- WAN 연결 장비 역할 구분 (Clock Rate 제공 주체)

![mermaid-diagram](/assets/img/network/2022-11-04-lan-wan-diagram-2.png)

- **DTE (Data Terminal Equipment)**
  - 데이터 단말 장치 (Router, PC)
  - 데이터의 출발/도착지
- **DCE (Data Circuit-terminating Equipment)**
  - 회선 종단 장치 (CSU/DSU, Modem)
  - **Clock Rate(동기화 신호) 제공**

### Bandwidth (대역폭)
- **정의**
  - 단위 시간당 전송 가능한 데이터의 최대 용량 (Throughput)
- 특징
  - 물리적 신호 속도(Propagation Speed: 빛의 속도)와는 무관함
- 비유
  - 도로의 차선 수 (차선이 많을수록 통행량 증가함)
- EIGRP 계산
  - 10^7 / Bandwidth

### MTU (Max Transfer Unit)
- **정의**
  - 한 번에 전송 가능한 최대 패킷 크기 (보통 1500 bytes)
- **주의사항**
  - MTU 초과 시 **단편화(Fragmentation)** 발생 또는 Drop (VPN 사용 시 오버헤드 고려 필요함)

### Clock Rate & Encapsulation
- **Clock Rate**
  - Serial 링크 동기화 속도 (DCE가 제공함)
- **Encapsulation**
  - **HDLC**
    - Cisco 전용, 동기식
  - **PPP**
    - 표준, 보안/다기능 지원

<br/><br/>

## 정리

- **LAN 설계**
  - VLAN이 10개 이상이면 L3 Switch 도입 권장함
- **IP 할당**
  - 10.0.0.0/8 (1600만 개) 대역 활용 권장함 (확장성)
- **WAN 구성**
  - 클라우드 하이브리드 연결 시 SD-WAN 또는 VPN 이중화 필수임
- **보안**
  - VLAN 간 통신 제어(ACL/방화벽) 필수 적용함