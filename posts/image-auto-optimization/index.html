<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="prefer-datetime-locale" content="ko"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Jekyll 블로그 이미지 자동 최적화" /><meta name="author" content="mxxikr" /><meta property="og:locale" content="en" /><meta name="description" content="개요" /><meta property="og:description" content="개요" /><link rel="canonical" href="https://mxxikr.github.io/posts/image-auto-optimization/" /><meta property="og:url" content="https://mxxikr.github.io/posts/image-auto-optimization/" /><meta property="og:site_name" content="MXXI.kr" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-10-08T18:50:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Jekyll 블로그 이미지 자동 최적화" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@mxxikr" /><meta name="google-site-verification" content="jrB0ZGRmhAQ9sqzUNV-C9QdF0brDTEBfkBb9o7loUxc" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"mxxikr"},"dateModified":"2025-10-12T06:10:35+09:00","datePublished":"2025-10-08T18:50:00+09:00","description":"개요","headline":"Jekyll 블로그 이미지 자동 최적화","mainEntityOfPage":{"@type":"WebPage","@id":"https://mxxikr.github.io/posts/image-auto-optimization/"},"url":"https://mxxikr.github.io/posts/image-auto-optimization/"}</script><title>Jekyll 블로그 이미지 자동 최적화 | MXXI.kr</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png?v=3"><link rel="icon" type="image/png" sizes="512x512" href="/assets/img/favicons/android-chrome-512x512.png?v=3"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-chrome-192x192.png?v=3"><link rel="icon" type="image/png" sizes="64x64" href="/assets/img/favicons/favicon-64x64.png?v=3"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png?v=3"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png?v=3"><link rel="manifest" href="/assets/img/favicons/site.webmanifest?v=3"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico?v=3"><meta name="apple-mobile-web-app-title" content="MXXI.kr"><meta name="application-name" content="MXXI.kr"><meta name="msapplication-TileColor" content="#c4beed"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml?v=2"><meta name="theme-color" content="#c4beed"> <script src="https://cdn.jsdelivr.net/npm/mermaid@9.3.0/dist/mermaid.min.js"></script> <script> document.addEventListener('DOMContentLoaded', function() { mermaid.initialize({ startOnLoad: true, theme: 'neutral', securityLevel: 'loose', flowchart: { curve: 'basis', padding: 15, nodeSpacing: 30, rankSpacing: 50, htmlLabels: true } }); // Mermaid 다이어그램 렌더링 후 스타일 적용 setTimeout(function() { document.querySelectorAll('.mermaid').forEach(function(element) { element.style.background = '#f8f9fa'; element.style.padding = '15px'; element.style.borderRadius = '8px'; element.style.marginTop = '10px'; element.style.marginBottom = '20px'; }); }, 1000); }); </script><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//fonts.gstatic.com"><link rel="dns-prefetch" href="//cdn.jsdelivr.net"><link rel="preload" href="/assets/css/style.css" as="style"><link rel="preload" href="/assets/js/apple-liquid-glass.js" as="script"> <script> // 개발 환경에서만 로딩 시간 체크 if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') { window.addEventListener('load', () => { if ('performance' in window) { const perfData = performance.getEntriesByType('navigation')[0]; const loadTime = perfData.loadEventEnd - perfData.loadEventStart; console.log('📊 Page loaded in:', loadTime + 'ms'); } }); } </script> <script> if ('serviceWorker' in navigator) { window.addEventListener('load', () => { navigator.serviceWorker.register('/sw.js') .then(registration => console.log('SW registered')) .catch(error => console.log('SW registration failed')); }); } </script> <script> (function() { 'use strict'; // Intersection Observer 지원 확인 if (!('IntersectionObserver' in window)) { // 폴백: 모든 이미지를 즉시 로드 const images = document.querySelectorAll('img[data-src]'); images.forEach(img => { img.src = img.dataset.src; img.removeAttribute('data-src'); }); return; } // 이미지 지연 로딩 설정 const imageObserver = new IntersectionObserver((entries, observer) => { entries.forEach(entry => { if (entry.isIntersecting) { const img = entry.target; // 이미지 로드 const loadImage = () => { const src = img.dataset.src; if (src) { img.src = src; img.classList.add('loaded'); img.removeAttribute('data-src'); } }; // 이미지 로드 완료 시 처리 img.onload = () => { img.classList.add('fade-in'); }; // 이미지 로드 에러 시 처리 img.onerror = () => { img.classList.add('error'); console.warn('Failed to load image:', img.dataset.src); }; loadImage(); observer.unobserve(img); } }); }, { rootMargin: '50px 0px', // 50px 전에 미리 로드 threshold: 0.01 }); // 모든 지연 로딩 이미지에 Observer 적용 const lazyImages = document.querySelectorAll('img[data-src]'); lazyImages.forEach(img => { imageObserver.observe(img); }); // 페이지 로드 완료 후 남은 이미지들 처리 window.addEventListener('load', () => { const remainingImages = document.querySelectorAll('img[data-src]'); remainingImages.forEach(img => { img.src = img.dataset.src; img.removeAttribute('data-src'); }); }); })(); </script><style> img[data-src] { opacity: 0; transition: opacity 0.3s ease-in-out; } img.loaded { opacity: 1; } img.fade-in { animation: fadeIn 0.5s ease-in-out; } img.error { opacity: 0.5; filter: grayscale(100%); } @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } } /* 플레이스홀더 스타일 */ .lazy-placeholder { background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); background-size: 200% 100%; animation: loading 1.5s infinite; } @keyframes loading { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }</style><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-center"><div class="profile-wrapper text-center"><div class="site-title"> <a href="/">MXXI.kr</a></div><div class="site-subtitle font-weight-bold">Backend Developer</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/mxxikr" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['mxxikr','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Jekyll 블로그 이미지 자동 최적화</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Jekyll 블로그 이미지 자동 최적화</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1759917000" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 8, 2025 </em> </span> <span> Updated <em class="" data-ts="1760217035" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Oct 12, 2025 </em> </span><div class="d-flex justify-content-between"> <span> By <em> mxxikr </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2706 words"> read <em>15 min</em> </span></div></div></div><div class="post-content"><h2 id="개요"><span class="mr-2">개요</span><a href="#개요" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li>Jekyll 기반 블로그에서 이미지 자동 최적화 시스템을 구축하여 웹 성능을 개선한 과정을 소개함</ul><h2 id="문제-상황-분석"><span class="mr-2">문제 상황 분석</span><a href="#문제-상황-분석" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="초기-성능-문제"><span class="mr-2">초기 성능 문제</span><a href="#초기-성능-문제" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>기술 블로그에서 측정된 성능 지표<ul><li><strong>이미지 용량</strong><ul><li>149MB</ul><li><strong>페이지 로딩 시간</strong><ul><li>3-5초 (이미지 중심 페이지)</ul><li><strong>이미지 파일 수</strong><ul><li>1,000개 이상</ul></ul></ul><h3 id="이미지-현황-파악"><span class="mr-2">이미지 현황 파악</span><a href="#이미지-현황-파악" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c"># 이미지 디렉토리 용량 분석</span>
<span class="nb">du</span> <span class="nt">-sh</span> assets/img
<span class="c"># 결과: 149M	assets/img</span>

<span class="c"># 이미지 파일 개수 확인</span>
find assets/img <span class="nt">-type</span> f <span class="se">\(</span> <span class="nt">-name</span> <span class="s2">"*.png"</span> <span class="nt">-o</span> <span class="nt">-name</span> <span class="s2">"*.jpg"</span> <span class="nt">-o</span> <span class="nt">-name</span> <span class="s2">"*.jpeg"</span> <span class="se">\)</span> | <span class="nb">wc</span> <span class="nt">-l</span>
<span class="c"># 결과: 1,000개 이상의 이미지 파일</span>
</pre></table></code></div></div><ul><li><strong>이미지 파일 특성</strong><ul><li><strong>파일 형식</strong><ul><li>PNG, JPEG</ul><li><strong>압축 상태</strong><ul><li>압축되지 않은 원본 파일</ul><li><strong>파일 수</strong><ul><li>1,000개 이상의 이미지 파일</ul></ul></ul><h3 id="core-web-vitals-측정"><span class="mr-2">Core Web Vitals 측정</span><a href="#core-web-vitals-측정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>Core Web Vitals 지표</strong><ul><li><p>Google이 정의한 웹사이트 사용자 경험을 측정하는 핵심 지표</p><li><strong>측정 방법</strong><ul><li><strong>측정 도구</strong><ul><li>Chrome DevTools, Lighthouse</ul><li><strong>측정 환경</strong><ul><li>로컬 Jekyll 서버 (localhost:4000)</ul></ul><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>  <span class="c"># Lighthouse CLI를 사용한 성능 측정</span>
  npm <span class="nb">install</span> <span class="nt">-g</span> lighthouse
  lighthouse http://localhost:4000 <span class="nt">--output</span><span class="o">=</span>json <span class="nt">--output-path</span><span class="o">=</span>./lighthouse-report.json
</pre></table></code></div></div><li><p><strong>측정된 Core Web Vitals 지표</strong></p><ul><li><strong>LCP (Largest Contentful Paint)</strong>: 3.2초<li>페이지의 가장 큰 콘텐츠 요소가 화면에 렌더링되는 시간<li>좋은 점수: 2.5초 이하, 개선 필요: 4.0초 초과<li><p>이미지가 가장 큰 콘텐츠인 경우 로딩 시간에 직접 영향</p><li><strong>CLS (Cumulative Layout Shift)</strong>: 0.15<li>페이지 로딩 중 예상치 못한 레이아웃 변화의 정도<li>좋은 점수: 0.1 이하, 개선 필요: 0.25 초과<li><p>이미지 로딩 시 크기 변화로 인한 레이아웃 시프트 발생</p><li><strong>FID (First Input Delay)</strong>: 180ms<li>사용자가 페이지와 처음 상호작용할 때의 응답 시간<li>좋은 점수: 100ms 이하, 개선 필요: 300ms 초과<li>대용량 이미지 로딩으로 인한 메인 스레드 블로킹 영향</ul></ul></ul><h2 id="자동화-시스템-구성"><span class="mr-2">자동화 시스템 구성</span><a href="#자동화-시스템-구성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="이미지-최적화-도구-설치"><span class="mr-2">이미지 최적화 도구 설치</span><a href="#이미지-최적화-도구-설치" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="c"># 이미지 최적화 도구 설치</span>
brew <span class="nb">install </span>pngquant jpegoptim

<span class="c"># 설치 확인</span>
which pngquant <span class="o">&amp;&amp;</span> which jpegoptim
</pre></table></code></div></div><h3 id="자동-최적화-스크립트-생성"><span class="mr-2">자동 최적화 스크립트 생성</span><a href="#자동-최적화-스크립트-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>파일 생성 위치</strong><ul><li>프로젝트 루트 디렉토리에 <code class="language-plaintext highlighter-rouge">auto-optimize-images.js</code> 파일 생성<li>실행 권한 부여<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>  <span class="nb">chmod</span> +x auto-optimize-images.js
</pre></table></code></div></div></ul><li><p><strong>auto-optimize-images.js</strong></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
</pre><td class="rouge-code"><pre><span class="cp">  #!/usr/bin/env node
</span>
  <span class="kd">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">execSync</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">child_process</span><span class="dl">'</span><span class="p">);</span>

  <span class="c1">// 설정</span>
  <span class="kd">const</span> <span class="nx">IMG_DIR</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">assets/img</span><span class="dl">'</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">QUALITY</span> <span class="o">=</span> <span class="mi">85</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">SKIP_FAVICONS</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

  <span class="c1">// 이미지 최적화 함수</span>
  <span class="kd">function</span> <span class="nf">optimizeImage</span><span class="p">(</span><span class="nx">filePath</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">ext</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nf">extname</span><span class="p">(</span><span class="nx">filePath</span><span class="p">).</span><span class="nf">toLowerCase</span><span class="p">();</span>
        
      <span class="k">try</span> <span class="p">{</span>
          <span class="k">if </span><span class="p">(</span><span class="nx">ext</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">.png</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
              <span class="nf">execSync</span><span class="p">(</span><span class="s2">`pngquant --force --ext .png --quality=65-</span><span class="p">${</span><span class="nx">QUALITY</span><span class="p">}</span><span class="s2"> "</span><span class="p">${</span><span class="nx">filePath</span><span class="p">}</span><span class="s2">"`</span><span class="p">,</span> <span class="p">{</span> <span class="na">stdio</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ignore</span><span class="dl">'</span> <span class="p">});</span>
          <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">ext</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">.jpg</span><span class="dl">'</span> <span class="o">||</span> <span class="nx">ext</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">.jpeg</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
              <span class="nf">execSync</span><span class="p">(</span><span class="s2">`jpegoptim --max=</span><span class="p">${</span><span class="nx">QUALITY</span><span class="p">}</span><span class="s2"> --strip-all "</span><span class="p">${</span><span class="nx">filePath</span><span class="p">}</span><span class="s2">"`</span><span class="p">,</span> <span class="p">{</span> <span class="na">stdio</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ignore</span><span class="dl">'</span> <span class="p">});</span>
          <span class="p">}</span>
          <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 새로 추가된 이미지 파일 찾기</span>
  <span class="kd">function</span> <span class="nf">getNewImages</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">try</span> <span class="p">{</span>
          <span class="kd">const</span> <span class="nx">addedFiles</span> <span class="o">=</span> <span class="nf">execSync</span><span class="p">(</span><span class="dl">'</span><span class="s1">git diff --cached --name-status</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">encoding</span><span class="p">:</span> <span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span> <span class="p">});</span>
          <span class="kd">const</span> <span class="nx">newImages</span> <span class="o">=</span> <span class="p">[];</span>
          <span class="kd">const</span> <span class="nx">lines</span> <span class="o">=</span> <span class="nx">addedFiles</span><span class="p">.</span><span class="nf">split</span><span class="p">(</span><span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">);</span>
            
          <span class="nx">lines</span><span class="p">.</span><span class="nf">forEach</span><span class="p">(</span><span class="nx">line</span> <span class="o">=&gt;</span> <span class="p">{</span>
              <span class="k">if </span><span class="p">(</span><span class="nx">line</span><span class="p">.</span><span class="nf">startsWith</span><span class="p">(</span><span class="dl">'</span><span class="s1">A</span><span class="se">\t</span><span class="dl">'</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nx">line</span><span class="p">.</span><span class="nf">includes</span><span class="p">(</span><span class="nx">IMG_DIR</span><span class="p">))</span> <span class="p">{</span>
                  <span class="kd">const</span> <span class="nx">filePath</span> <span class="o">=</span> <span class="nx">line</span><span class="p">.</span><span class="nf">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
                  <span class="kd">const</span> <span class="nx">ext</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nf">extname</span><span class="p">(</span><span class="nx">filePath</span><span class="p">).</span><span class="nf">toLowerCase</span><span class="p">();</span>
                  <span class="k">if </span><span class="p">([</span><span class="dl">'</span><span class="s1">.png</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">.jpg</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">.jpeg</span><span class="dl">'</span><span class="p">].</span><span class="nf">includes</span><span class="p">(</span><span class="nx">ext</span><span class="p">))</span> <span class="p">{</span>
                      <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">SKIP_FAVICONS</span> <span class="o">||</span> <span class="o">!</span><span class="nx">filePath</span><span class="p">.</span><span class="nf">includes</span><span class="p">(</span><span class="dl">'</span><span class="s1">favicon</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>
                          <span class="nx">newImages</span><span class="p">.</span><span class="nf">push</span><span class="p">(</span><span class="nx">filePath</span><span class="p">);</span>
                      <span class="p">}</span>
                  <span class="p">}</span>
              <span class="p">}</span>
          <span class="p">});</span>
            
          <span class="k">return</span> <span class="nx">newImages</span><span class="p">;</span>
      <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="p">[];</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 메인 실행</span>
  <span class="kd">function</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">이미지 자동 최적화 시작...</span><span class="dl">'</span><span class="p">);</span>
        
      <span class="kd">const</span> <span class="nx">newImages</span> <span class="o">=</span> <span class="nf">getNewImages</span><span class="p">();</span>
        
      <span class="k">if </span><span class="p">(</span><span class="nx">newImages</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">최적화할 새 이미지가 없습니다.</span><span class="dl">'</span><span class="p">);</span>
          <span class="k">return</span><span class="p">;</span>
      <span class="p">}</span>
        
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">newImages</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2">개의 새 이미지를 발견했습니다.`</span><span class="p">);</span>
        
      <span class="kd">let</span> <span class="nx">optimized</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="kd">let</span> <span class="nx">failed</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        
      <span class="nx">newImages</span><span class="p">.</span><span class="nf">forEach</span><span class="p">(</span><span class="nx">imagePath</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`최적화 중: </span><span class="p">${</span><span class="nx">imagePath</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
            
          <span class="k">if </span><span class="p">(</span><span class="nf">optimizeImage</span><span class="p">(</span><span class="nx">imagePath</span><span class="p">))</span> <span class="p">{</span>
              <span class="nx">optimized</span><span class="o">++</span><span class="p">;</span>
              <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`완료: </span><span class="p">${</span><span class="nx">imagePath</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
              <span class="nx">failed</span><span class="o">++</span><span class="p">;</span>
              <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`실패: </span><span class="p">${</span><span class="nx">imagePath</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
          <span class="p">}</span>
      <span class="p">});</span>
        
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`최적화 완료: </span><span class="p">${</span><span class="nx">optimized</span><span class="p">}</span><span class="s2">개 성공, </span><span class="p">${</span><span class="nx">failed</span><span class="p">}</span><span class="s2">개 실패`</span><span class="p">);</span>
        
      <span class="k">if </span><span class="p">(</span><span class="nx">optimized</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">최적화된 파일들을 Git에 다시 추가합니다...</span><span class="dl">'</span><span class="p">);</span>
          <span class="k">try</span> <span class="p">{</span>
              <span class="nf">execSync</span><span class="p">(</span><span class="s2">`git add </span><span class="p">${</span><span class="nx">newImages</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">)}</span><span class="s2">`</span><span class="p">,</span> <span class="p">{</span> <span class="na">stdio</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ignore</span><span class="dl">'</span> <span class="p">});</span>
              <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Git에 추가 완료!</span><span class="dl">'</span><span class="p">);</span>
          <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
              <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Git 추가 실패:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
          <span class="p">}</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="nf">main</span><span class="p">();</span>
</pre></table></code></div></div></ul><h3 id="git-훅-설정"><span class="mr-2">Git 훅 설정</span><a href="#git-훅-설정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>파일 생성 위치</strong><ul><li><code class="language-plaintext highlighter-rouge">.git/hooks/pre-commit</code> 파일 생성<li>실행 권한 부여<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>  <span class="nb">chmod</span> +x .git/hooks/pre-commit
</pre></table></code></div></div></ul><li><p><strong>pre-commit 훅</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre>  <span class="c">#!/bin/bash</span>

  <span class="c"># 자동 이미지 최적화 Git 훅</span>
  <span class="nb">echo</span> <span class="s2">"이미지 최적화를 확인합니다..."</span>

  <span class="c"># Node.js가 설치되어 있는지 확인</span>
  <span class="k">if</span> <span class="o">!</span> <span class="nb">command</span> <span class="nt">-v</span> node &amp;&gt; /dev/null<span class="p">;</span> <span class="k">then
      </span><span class="nb">echo</span> <span class="s2">"Node.js가 설치되어 있지 않습니다. 이미지 최적화를 건너뜁니다."</span>
      <span class="nb">exit </span>0
  <span class="k">fi</span>

  <span class="c"># 이미지 최적화 도구가 설치되어 있는지 확인</span>
  <span class="k">if</span> <span class="o">!</span> <span class="nb">command</span> <span class="nt">-v</span> pngquant &amp;&gt; /dev/null <span class="o">||</span> <span class="o">!</span> <span class="nb">command</span> <span class="nt">-v</span> jpegoptim &amp;&gt; /dev/null<span class="p">;</span> <span class="k">then
      </span><span class="nb">echo</span> <span class="s2">"이미지 최적화 도구가 설치되어 있지 않습니다."</span>
      <span class="nb">echo</span> <span class="s2">"다음 명령어로 설치하세요: brew install pngquant jpegoptim"</span>
      <span class="nb">exit </span>0
  <span class="k">fi</span>

  <span class="c"># 자동 최적화 스크립트 실행</span>
  node auto-optimize-images.js

  <span class="nb">echo</span> <span class="s2">"이미지 최적화 완료!"</span>
</pre></table></code></div></div></ul><h3 id="실시간-파일-감시-스크립트"><span class="mr-2">실시간 파일 감시 스크립트</span><a href="#실시간-파일-감시-스크립트" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>파일 생성 위치</strong><ul><li>프로젝트 루트 디렉토리에 <code class="language-plaintext highlighter-rouge">watch-images.js</code> 파일 생성<li>실행 권한 부여<div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>  <span class="nb">chmod</span> +x watch-images.js
</pre></table></code></div></div></ul><li><p><strong>watch-images.js</strong></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
</pre><td class="rouge-code"><pre><span class="cp">  #!/usr/bin/env node
</span>
  <span class="kd">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">path</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">execSync</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">child_process</span><span class="dl">'</span><span class="p">);</span>

  <span class="c1">// 설정</span>
  <span class="kd">const</span> <span class="nx">IMG_DIR</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">assets/img</span><span class="dl">'</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">QUALITY</span> <span class="o">=</span> <span class="mi">85</span><span class="p">;</span>

  <span class="c1">// 이미지 최적화 함수</span>
  <span class="kd">function</span> <span class="nf">optimizeImage</span><span class="p">(</span><span class="nx">filePath</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">ext</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nf">extname</span><span class="p">(</span><span class="nx">filePath</span><span class="p">).</span><span class="nf">toLowerCase</span><span class="p">();</span>
        
      <span class="k">try</span> <span class="p">{</span>
          <span class="k">if </span><span class="p">(</span><span class="nx">ext</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">.png</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
              <span class="nf">execSync</span><span class="p">(</span><span class="s2">`pngquant --force --ext .png --quality=65-</span><span class="p">${</span><span class="nx">QUALITY</span><span class="p">}</span><span class="s2"> "</span><span class="p">${</span><span class="nx">filePath</span><span class="p">}</span><span class="s2">"`</span><span class="p">,</span> <span class="p">{</span> <span class="na">stdio</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ignore</span><span class="dl">'</span> <span class="p">});</span>
          <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">ext</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">.jpg</span><span class="dl">'</span> <span class="o">||</span> <span class="nx">ext</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">.jpeg</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
              <span class="nf">execSync</span><span class="p">(</span><span class="s2">`jpegoptim --max=</span><span class="p">${</span><span class="nx">QUALITY</span><span class="p">}</span><span class="s2"> --strip-all "</span><span class="p">${</span><span class="nx">filePath</span><span class="p">}</span><span class="s2">"`</span><span class="p">,</span> <span class="p">{</span> <span class="na">stdio</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ignore</span><span class="dl">'</span> <span class="p">});</span>
          <span class="p">}</span>
          <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// 파일 감시 시작</span>
  <span class="kd">function</span> <span class="nf">startWatching</span><span class="p">()</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">이미지 파일 감시를 시작합니다...</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">감시 디렉토리:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">IMG_DIR</span><span class="p">);</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">품질 설정:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">QUALITY</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">%</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">종료하려면 Ctrl+C를 누르세요</span><span class="se">\n</span><span class="dl">'</span><span class="p">);</span>
        
      <span class="nx">fs</span><span class="p">.</span><span class="nf">watch</span><span class="p">(</span><span class="nx">IMG_DIR</span><span class="p">,</span> <span class="p">{</span> <span class="na">recursive</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span> <span class="p">(</span><span class="nx">eventType</span><span class="p">,</span> <span class="nx">filename</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="k">if </span><span class="p">(</span><span class="nx">eventType</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">rename</span><span class="dl">'</span> <span class="o">&amp;&amp;</span> <span class="nx">filename</span><span class="p">)</span> <span class="p">{</span>
              <span class="kd">const</span> <span class="nx">filePath</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nx">IMG_DIR</span><span class="p">,</span> <span class="nx">filename</span><span class="p">);</span>
              <span class="kd">const</span> <span class="nx">ext</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nf">extname</span><span class="p">(</span><span class="nx">filename</span><span class="p">).</span><span class="nf">toLowerCase</span><span class="p">();</span>
                
              <span class="k">if </span><span class="p">([</span><span class="dl">'</span><span class="s1">.png</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">.jpg</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">.jpeg</span><span class="dl">'</span><span class="p">].</span><span class="nf">includes</span><span class="p">(</span><span class="nx">ext</span><span class="p">))</span> <span class="p">{</span>
                  <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
                      <span class="k">if </span><span class="p">(</span><span class="nx">fs</span><span class="p">.</span><span class="nf">existsSync</span><span class="p">(</span><span class="nx">filePath</span><span class="p">))</span> <span class="p">{</span>
                          <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`새 이미지 발견: </span><span class="p">${</span><span class="nx">filename</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
                            
                          <span class="k">if </span><span class="p">(</span><span class="nf">optimizeImage</span><span class="p">(</span><span class="nx">filePath</span><span class="p">))</span> <span class="p">{</span>
                              <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`최적화 완료: </span><span class="p">${</span><span class="nx">filename</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
                          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                              <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`최적화 실패: </span><span class="p">${</span><span class="nx">filename</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
                          <span class="p">}</span>
                      <span class="p">}</span>
                  <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
              <span class="p">}</span>
          <span class="p">}</span>
      <span class="p">});</span>
  <span class="p">}</span>

  <span class="nf">startWatching</span><span class="p">();</span>
</pre></table></code></div></div></ul><h2 id="사용-방법"><span class="mr-2">사용 방법</span><a href="#사용-방법" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="git-훅-방식"><span class="mr-2">Git 훅 방식</span><a href="#git-훅-방식" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c"># 이미지 추가 후 커밋하면 자동으로 최적화됨</span>
git add assets/img/new-image.png
git commit <span class="nt">-m</span> <span class="s2">"새 이미지 추가"</span>
<span class="c"># 자동으로 최적화 후 커밋됨</span>
</pre></table></code></div></div><h3 id="수동-실행"><span class="mr-2">수동 실행</span><a href="#수동-실행" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 새로 추가된 이미지만 최적화</span>
npm run auto-optimize
</pre></table></code></div></div><h3 id="실시간-감시"><span class="mr-2">실시간 감시</span><a href="#실시간-감시" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 터미널에서 실행하면 이미지 추가 시 실시간 최적화</span>
npm run watch-images
</pre></table></code></div></div><h3 id="packagejson-설정"><span class="mr-2">package.json 설정</span><a href="#packagejson-설정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>파일 생성 위치</strong><ul><li>프로젝트 루트 디렉토리의 <code class="language-plaintext highlighter-rouge">package.json</code> 파일에 scripts 섹션 추가<li>기존 scripts 섹션이 있다면 해당 내용을 추가</ul><li><strong>package.json</strong><div class="language-json highlighter-rouge"><div class="code-header"> <span data-label-text="JSON"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gulp build"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gulp dev"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"optimize-images"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node optimize-images-safe.js"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"auto-optimize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node auto-optimize-images.js"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"watch-images"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node watch-images.js"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"test"</span><span class="p">:</span><span class="w"> </span><span class="s2">"echo 'Testing blog functionality...'"</span><span class="w">
  </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></pre></table></code></div></div></ul><h2 id="성능-최적화-결과"><span class="mr-2">성능 최적화 결과</span><a href="#성능-최적화-결과" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="최적화-전후-비교"><span class="mr-2">최적화 전후 비교</span><a href="#최적화-전후-비교" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><p><strong>용량 최적화 결과</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>  <span class="c"># 최적화 전</span>
  <span class="nb">du</span> <span class="nt">-sh</span> assets/img
  <span class="c"># 결과: 149M	assets/img</span>

  <span class="c"># 최적화 후</span>
  <span class="nb">du</span> <span class="nt">-sh</span> assets/img
  <span class="c"># 결과: 45M	assets/img</span>
</pre></table></code></div></div><li><p><strong>페이지 로딩 시간 개선</strong> (Chrome DevTools 기준)</p><div class="table-wrapper"><table><thead><tr><th>페이지 유형<th>최적화 전<th>최적화 후<th>개선율<tbody><tr><td>이미지 중심 포스트<td>3-5초<td>1-2초<td>60-70%<tr><td>일반 포스트<td>2-3초<td>0.8-1.5초<td>50-60%<tr><td>메인 페이지<td>4-6초<td>1.5-2.5초<td>60-70%</table></div></ul><h3 id="core-web-vitals-개선-효과"><span class="mr-2">Core Web Vitals 개선 효과</span><a href="#core-web-vitals-개선-효과" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>Lighthouse 성능 점수</strong><ul><li><strong>최적화 전</strong><ul><li>Performance: 65-70점<li>LCP: 3.2초<li>CLS: 0.15<li>FID: 180ms</ul><li><strong>최적화 후</strong><ul><li>Performance: 85-90점<li>LCP: 1.8초 (44% 개선)<li>CLS: 0.05 (67% 개선)<li>FID: 95ms (47% 개선)</ul></ul></ul><h2 id="최적화-결과-요약"><span class="mr-2">최적화 결과 요약</span><a href="#최적화-결과-요약" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="핵심-성과"><span class="mr-2">핵심 성과</span><a href="#핵심-성과" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="table-wrapper"><table><thead><tr><th>항목<th>최적화 전<th>최적화 후<th>개선율<tbody><tr><td>이미지 용량<td>149MB<td>45MB<td>70% 감소<tr><td>페이지 로딩 시간<td>3-5초<td>1-2초<td>60-70% 단축<tr><td>Lighthouse 점수<td>65-70점<td>85-90점<td>20-25점 향상<tr><td>LCP<td>3.2초<td>1.8초<td>44% 개선<tr><td>CLS<td>0.15<td>0.05<td>67% 개선<tr><td>FID<td>180ms<td>95ms<td>47% 개선</table></div><h3 id="적용된-기술"><span class="mr-2">적용된 기술</span><a href="#적용된-기술" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>이미지 압축</strong><ul><li>pngquant, jpegoptim</ul><li><strong>자동화</strong><ul><li>Git pre-commit 훅</ul><li><strong>모니터링</strong><ul><li>Lighthouse, Chrome DevTools</ul><li><strong>스크립트</strong><ul><li>Node.js 기반 최적화 도구</ul></ul><h2 id="트러블슈팅"><span class="mr-2">트러블슈팅</span><a href="#트러블슈팅" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="자주-발생하는-문제와-해결-방법"><span class="mr-2">자주 발생하는 문제와 해결 방법</span><a href="#자주-발생하는-문제와-해결-방법" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li><strong>이미지 최적화 도구 설치 오류</strong><ul><li><strong>문제</strong><ul><li><code class="language-plaintext highlighter-rouge">pngquant</code> 또는 <code class="language-plaintext highlighter-rouge">jpegoptim</code> 명령어를 찾을 수 없음</ul><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>  <span class="c"># 오류 메시지</span>
  <span class="nb">command </span>not found: pngquant
  <span class="nb">command </span>not found: jpegoptim
</pre></table></code></div></div><li><p><strong>해결 방법</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>  <span class="c"># macOS</span>
  brew <span class="nb">install </span>pngquant jpegoptim

  <span class="c"># Ubuntu/Debian</span>
  <span class="nb">sudo </span>apt-get <span class="nb">install </span>pngquant jpegoptim
</pre></table></code></div></div></ul><li><strong>Git 훅 실행 권한 문제</strong><ul><li><strong>문제</strong><ul><li>pre-commit 훅이 실행되지 않음</ul><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>  <span class="c"># 오류 메시지</span>
  .git/hooks/pre-commit: Permission denied
</pre></table></code></div></div><li><p><strong>해결 방법</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>  <span class="c"># 실행 권한 부여</span>
  <span class="nb">chmod</span> +x .git/hooks/pre-commit

  <span class="c"># 권한 확인</span>
  <span class="nb">ls</span> <span class="nt">-la</span> .git/hooks/pre-commit
</pre></table></code></div></div></ul><li><strong>이미지 최적화 실패</strong><ul><li><p><strong>문제</strong>: 일부 이미지 파일이 최적화되지 않음</p><li><strong>원인 분석</strong><ul><li>손상된 이미지 파일<li>권한 문제<li>디스크 공간 부족</ul><li><strong>해결 방법</strong><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>  <span class="c"># 이미지 파일 무결성 확인</span>
  file assets/img/problematic-image.png

  <span class="c"># 권한 확인 및 수정</span>
  <span class="nb">chmod </span>644 assets/img/<span class="k">*</span>.png
  <span class="nb">chmod </span>644 assets/img/<span class="k">*</span>.jpg

  <span class="c"># 디스크 공간 확인</span>
  <span class="nb">df</span> <span class="nt">-h</span>
</pre></table></code></div></div></ul><li><strong>Node.js 버전 호환성 문제</strong><ul><li><strong>문제</strong><ul><li>스크립트 실행 시 Node.js 버전 오류</ul><li><strong>해결 방법</strong><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>  <span class="c"># Node.js 버전 확인</span>
  node <span class="nt">--version</span>

  <span class="c"># nvm을 사용한 버전 관리</span>
  nvm <span class="nb">install </span>16
  nvm use 16
</pre></table></code></div></div></ul><li><strong>Git 훅이 실행되지 않는 문제</strong><ul><li><strong>문제</strong><ul><li>pre-commit 훅을 설정했지만 이미지 최적화가 실행되지 않음</ul><li><strong>원인 분석</strong><ul><li>Git 훅이 비활성화되어 있음<li>훅 파일이 올바른 위치에 없음<li>Git 설정에서 훅이 무시됨</ul><li><strong>해결 방법</strong><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre>  <span class="c"># Git 훅 활성화 확인</span>
  git config core.hooksPath

  <span class="c"># 훅 파일 위치 확인</span>
  <span class="nb">ls</span> <span class="nt">-la</span> .git/hooks/pre-commit

  <span class="c"># Git 훅 경로 설정 (필요시)</span>
  git config core.hooksPath .git/hooks

  <span class="c"># 훅 테스트</span>
  git add assets/img/test-image.png
  git commit <span class="nt">-m</span> <span class="s2">"훅 테스트"</span>
</pre></table></code></div></div></ul><li><strong>이미지 품질 최적화 문제</strong><ul><li><strong>문제</strong><ul><li>최적화 후 이미지 품질이 너무 낮아짐<li>일부 이미지에서 아티팩트 발생</ul><li><strong>원인 분석</strong><ul><li>압축 품질 설정이 너무 낮음 (85%)<li>이미지 유형에 따른 최적화 설정 부족<li>원본 이미지 품질 문제</ul><li><strong>해결 방법</strong><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre>  <span class="c"># 품질 설정 조정 (auto-optimize-images.js 수정)</span>
  const QUALITY <span class="o">=</span> 90<span class="p">;</span> // 85에서 90으로 상향 조정

  <span class="c"># 이미지 유형별 품질 설정</span>
  <span class="k">if</span> <span class="o">(</span>ext <span class="o">===</span> <span class="s1">'.png'</span><span class="o">)</span> <span class="o">{</span>
      // PNG는 더 높은 품질 유지
      execSync<span class="o">(</span><span class="sb">`</span>pngquant <span class="nt">--quality</span><span class="o">=</span>80-95 <span class="s2">"</span><span class="k">${</span><span class="nv">filePath</span><span class="k">}</span><span class="s2">"</span><span class="sb">`</span><span class="o">)</span><span class="p">;</span>
  <span class="o">}</span> <span class="k">else if</span> <span class="o">(</span>ext <span class="o">===</span> <span class="s1">'.jpg'</span> <span class="o">||</span> ext <span class="o">===</span> <span class="s1">'.jpeg'</span><span class="o">)</span> <span class="o">{</span>
      // JPEG는 적당한 품질
      execSync<span class="o">(</span><span class="sb">`</span>jpegoptim <span class="nt">--max</span><span class="o">=</span>90 <span class="s2">"</span><span class="k">${</span><span class="nv">filePath</span><span class="k">}</span><span class="s2">"</span><span class="sb">`</span><span class="o">)</span><span class="p">;</span>
  <span class="o">}</span>

  <span class="c"># 원본 이미지 품질 확인</span>
  identify <span class="nt">-verbose</span> assets/img/sample-image.jpg
</pre></table></code></div></div></ul></ul><h2 id="reference"><span class="mr-2">Reference</span><a href="#reference" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><ul><li><a href="https://pngquant.org/">pngquant 공식 문서</a><li><a href="https://github.com/tjko/jpegoptim">jpegoptim 공식 문서</a><li><a href="https://jekyllrb.com/">Jekyll 공식 문서</a><li><a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks">Git Hooks 가이드</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/blog/'>Blog</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/jekyll/" class="post-tag no-text-decoration" >jekyll</a> <a href="/tags/performance/" class="post-tag no-text-decoration" >performance</a> <a href="/tags/automation/" class="post-tag no-text-decoration" >automation</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"></div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Jekyll 블로그 이미지 자동 최적화 - MXXI.kr&amp;url=https://mxxikr.github.io/posts/image-auto-optimization/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Jekyll 블로그 이미지 자동 최적화 - MXXI.kr&amp;u=https://mxxikr.github.io/posts/image-auto-optimization/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://mxxikr.github.io/posts/image-auto-optimization/&amp;text=Jekyll 블로그 이미지 자동 최적화 - MXXI.kr" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div><script src="https://utteranc.es/client.js" repo="mxxikr/mxxikr.github.io" issue-term="pathname" label="comments" theme="github-dark" crossorigin="anonymous" async> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/google-colab-font-error/">Google Colab 환경의 Matplotlib 한글 폰트 깨짐 현상</a><li><a href="/posts/apache-kafka-quick-start/">Apache Kafka와 Spring Boot로 구축하는 실시간 데이터 처리 시스템</a><li><a href="/posts/apache-kafka-concepts/">Apache Kafka 개념과 아키텍처</a><li><a href="/posts/image-auto-optimization/">Jekyll 블로그 이미지 자동 최적화</a><li><a href="/posts/jekyll-blog-installation-guide/">Jekyll 블로그 설치 및 로컬 실행 가이드</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/knou/">knou</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/data-information-processing/">data information processing</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/ubiquitous-computing/">ubiquitous computing</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/network/">network</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div><script> $(document).ready(function() { // Bootstrap TOC 초기화 if ($('#toc').length) { $('#toc').toc({ 'selectors': 'h1,h2', 'container': '.post-content', 'smoothScrolling': true, 'highlightOffset': 50, 'scrollSpy': true, 'scrollSpyOffset': 50 }); // TOC 스타일 적용 함수 function applyTOCStyles() { $('#toc .nav-link').each(function() { var $link = $(this); var href = $link.attr('href'); // H1, H2 구분 if (href) { var targetElement = $(href); if (targetElement.length > 0) { var tagName = targetElement.prop('tagName'); if (tagName === 'H1') { $link.addClass('toc-h1'); } else if (tagName === 'H2') { $link.addClass('toc-h2'); } } } }); } // TOC 높이 동적 조정 함수 function adjustTOCHeight() { var toc = $('#toc'); if (toc.length === 0) return; // 먼저 모든 제한을 제거하고 자연스러운 높이로 설정 toc.css({ 'max-height': 'none', 'overflow-y': 'visible', 'overflow-x': 'visible' }); // 잠시 기다린 후 실제 내용 높이 측정 setTimeout(function() { var contentHeight = toc[0].scrollHeight; var screenHeight = $(window).height(); var maxHeight = screenHeight * 0.8; // 화면의 80%로 증가 console.log('TOC content height:', contentHeight, 'Screen height:', screenHeight, 'Max height:', maxHeight); if (contentHeight > maxHeight) { // 내용이 화면보다 크면 제한하고 스크롤 추가 toc.css({ 'max-height': maxHeight + 'px', 'overflow-y': 'auto', 'overflow-x': 'hidden' }); console.log('TOC height limited to', maxHeight + 'px with scroll'); } else { console.log('TOC using natural height:', contentHeight + 'px'); } }, 50); } // 스타일 적용 setTimeout(applyTOCStyles, 100); setTimeout(applyTOCStyles, 500); // TOC 높이 조정 - 여러 시점에서 실행 setTimeout(adjustTOCHeight, 200); setTimeout(adjustTOCHeight, 500); setTimeout(adjustTOCHeight, 1000); setTimeout(adjustTOCHeight, 2000); // 창 크기 변경 시 높이 재조정 $(window).on('resize', function() { setTimeout(adjustTOCHeight, 100); }); // 페이지 로드 완료 후에도 실행 $(window).on('load', function() { setTimeout(adjustTOCHeight, 500); }); // TOC 자동 스크롤 기능 (스크롤 박스가 있을 때만) var lastActiveItem = ''; function scrollToActiveTOCItem() { var activeItem = $('#toc .nav-link.active'); if (activeItem.length > 0) { var activeText = activeItem.text().trim(); // 같은 항목이면 스크롤하지 않음 if (lastActiveItem === activeText) { return; } lastActiveItem = activeText; var tocContainer = $('#toc'); if (tocContainer.length > 0) { var containerHeight = tocContainer.height(); var contentHeight = tocContainer[0].scrollHeight; // 스크롤이 필요한 경우에만 자동 스크롤 if (contentHeight > containerHeight) { var activeItemTop = activeItem.position().top; var activeItemHeight = activeItem.outerHeight(); var currentScrollTop = tocContainer.scrollTop(); // 활성 아이템이 보이는 영역에 있는지 확인 var itemTop = activeItemTop + currentScrollTop; var itemBottom = itemTop + activeItemHeight; var visibleTop = currentScrollTop; var visibleBottom = currentScrollTop + containerHeight; // 아이템이 보이지 않으면 스크롤 if (itemTop < visibleTop || itemBottom > visibleBottom) { var targetScrollTop = activeItemTop - (containerHeight / 2) + (activeItemHeight / 2); var maxScrollTop = contentHeight - containerHeight; targetScrollTop = Math.max(0, Math.min(targetScrollTop, maxScrollTop)); tocContainer.animate({ scrollTop: targetScrollTop }, 200); console.log('TOC auto-scrolled to:', activeText); } } } } } // 스크롤 스파이 개선 function initScrollSpy() { var $toc = $('#toc'); var $links = $toc.find('.nav-link'); var $sections = $('.post-content h1, .post-content h2'); // 스크롤 이벤트 최적화를 위한 throttle var scrollTimeout; $(window).on('scroll', function() { if (scrollTimeout) { clearTimeout(scrollTimeout); } scrollTimeout = setTimeout(function() { var scrollTop = $(window).scrollTop(); var windowHeight = $(window).height(); var current = ''; var currentOffset = 0; $sections.each(function() { var $section = $(this); var sectionTop = $section.offset().top; var sectionHeight = $section.outerHeight(); // 섹션의 상단이 화면 상단에서 150px 이내에 있으면 활성화 if (scrollTop + 150 >= sectionTop && scrollTop + 150 < sectionTop + sectionHeight + 200) { current = $section.attr('id'); currentOffset = sectionTop; } }); // 활성 링크 업데이트 $links.removeClass('active'); if (current) { var $activeLink = $links.filter('[href="#' + current + '"]'); $activeLink.addClass('active'); // TOC 자동 스크롤 scrollToActiveTOCItem(); } }, 10); }); // 초기 활성화 $(window).trigger('scroll'); } // 스크롤 스파이 초기화 setTimeout(initScrollSpy, 200); // 초기 실행 setTimeout(scrollToActiveTOCItem, 1500); } }); </script></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/jekyll-blog-installation-guide/"><div class="card-body"> <em class="timeago small" data-ts="1760176200" > 2025-10-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Jekyll 블로그 설치 및 로컬 실행 가이드</h3><div class="text-muted small"><p> 개요 Jekyll 기반 GitHub Pages 블로그를 처음부터 설치하고 로컬에서 실행하는 과정을 설명함 사전 준비사항 필수 도구 확인 블로그 구축에 필요한 도구들 Git 버전 관리 시스템 GitHub Pages 배포에 필수 ...</p></div></div></a></div><div class="card"> <a href="/posts/google-analytics-jekyll-integration/"><div class="card-body"> <em class="timeago small" data-ts="1760176800" > 2025-10-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Jekyll 블로그 Google Analytics 연동</h3><div class="text-muted small"><p> 개요 Jekyll 블로그에 Google Analytics를 연동하여 방문자 통계를 추적하는 방법을 설명함 Google Analytics란 Google Analytics 기능 웹사이트 방문자 수 추적 방문자 행동 분석 트래픽 소스 파악 실시간 방문자 모니터링 사전 준...</p></div></div></a></div><div class="card"> <a href="/posts/jekyll-blog-comments-utterances/"><div class="card-body"> <em class="timeago small" data-ts="1760176800" > 2025-10-11 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Jekyll 블로그 Utterances 댓글 시스템 추가</h3><div class="text-muted small"><p> 개요 Jekyll 블로그에 Utterances 댓글 시스템을 추가하는 방법을 설명함 Utterances란 특징 GitHub Issues 기반 댓글 시스템 무료 오픈소스 광고 없음 가벼운 용량 마크다운 지원 GitHub 로그인 필요 장점 설정이 간단함 GitHub Issues로 댓글 관리 용이 개발...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/knou-cs-3/" class="btn btn-outline-primary" prompt="Older"><p>[컴퓨터과학 개론] 3강 - 자료 구조</p></a> <a href="/posts/jekyll-blog-installation-guide/" class="btn btn-outline-primary" prompt="Newer"><p>Jekyll 블로그 설치 및 로컬 실행 가이드</p></a></div></div></div><footer class="card-footer"><div class="align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/mxxikr">mxxikr</a>.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/knou/">knou</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/cpp/">cpp</a> <a class="post-tag" href="/tags/data-information-processing/">data information processing</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/ubiquitous-computing/">ubiquitous computing</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/network/">network</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script> <script> document.addEventListener('DOMContentLoaded', function() { mermaid.initialize({ startOnLoad: true, theme: 'default', securityLevel: 'loose', maxTextSize: 90000, flowchart: { htmlLabels: true, useMaxWidth: true, diagramPadding: 8, padding: 15, curve: 'basis', nodeSpacing: 80, rankSpacing: 100, ranker: 'tight-tree', align: 'UD', wrap: true, defaultRenderer: 'dagre-wrapper' } }); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/assets/js/apple-liquid-glass.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-G1QMP111QH"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-G1QMP111QH'); }); </script>
