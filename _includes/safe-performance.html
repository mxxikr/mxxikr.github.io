<!-- Safe Performance Optimization -->
<!-- ê¸°ì¡´ í…Œë§ˆë¥¼ ê±´ë“œë¦¬ì§€ ì•ŠëŠ” ì•ˆì „í•œ ìµœì í™” -->

<!-- DNS í”„ë¦¬íŽ˜ì¹˜ -->
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//fonts.gstatic.com">
<link rel="dns-prefetch" href="//cdn.jsdelivr.net">

<!-- ë¦¬ì†ŒìŠ¤ í”„ë¦¬ë¡œë“œ -->
<link rel="preload" href="{{ '/assets/css/style.css' | relative_url }}" as="style">
<link rel="preload" href="{{ '/assets/js/apple-liquid-glass.js' | relative_url }}" as="script">

<!-- ê°„ë‹¨í•œ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ -->
<script>
  // ê°œë°œ í™˜ê²½ì—ì„œë§Œ ë¡œë”© ì‹œê°„ ì²´í¬
  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
    window.addEventListener('load', () => {
      if ('performance' in window) {
        const perfData = performance.getEntriesByType('navigation')[0];
        const loadTime = perfData.loadEventEnd - perfData.loadEventStart;
        console.log('ðŸ“Š Page loaded in:', loadTime + 'ms');
      }
    });
  }
</script>

<!-- Service Worker ë“±ë¡ -->
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/sw.js')
        .then(registration => console.log('SW registered'))
        .catch(error => console.log('SW registration failed'));
    });
  }
</script>
